list_api:
  # 列表接口：用于获取所有可用车次信息（支持分页）
  url: "https://bgwlgl.bbwport.com/api/train-sea-union/real/train/listRealTrainInfo.do"
  method: "POST"
  # 请求超时（秒）
  timeout: 30
  # 请求失败重试次数
  retries: 3
  # 预留：退避系数（当前逻辑中未使用，可后续扩展）
  retry_backoff_base: 1.5
  # 翻页时每页之间等待（秒）
  sleep_between_pages: 0.2

  headers:
    accept: "application/json, text/plain, */*"
    content-type: "application/json;charset=UTF-8"
    origin: "https://bgwlgl.bbwport.com"
    referer: "https://bgwlgl.bbwport.com/"
    user-agent: "Mozilla/5.0"

    # 1) 登录鉴权（从 .env 注入）
    # 说明：保持 ${ENV} 形式，运行时从环境变量读取
    auth_token: "${AUTH_TOKEN}"

    # 2) cookie（从 .env 注入）
    # 说明：不要硬编码在代码里，避免泄露
    cookie: "${COOKIE}"

  # 用 Network -> Payload 里看到的“完整 JSON”当模板
  # 说明：这里的参数可直接调整，无需改代码
  payload_template:
    pageNumber: 0
    pageSize: 200
    params:
      realTrainCode: ""
      startStation: ""
      endStation: ""
      lineCode: ""
      lineName: ""
      upOrDown: ""
      departureDateStart: "2026-01-12 09:00:44"
      departureDateEnd: null
      loadingTimeStart: null
      loadingTimeEnd: null
    sorts: []

  pagination:
    # 请求是 pageNumber/pageSize，且 pageNumber=0，说明 0-based
    page_param: "pageNumber"
    page_size_param: "pageSize"
    page_size: 200
    start_page: 0
    one_based: false
    max_pages: 10000

    # 关键：Response 里 rows/total/totalPage 的路径
    rows_field: "rows"
    total_field: "total"
    total_pages_field: "totalPage"

export_api:
  # 导出接口：用于下载 Excel（二进制）
  url: "https://bgwlgl.bbwport.com/api/train-sea-union/bookingInfo/exportLoadedBox.do"
  method: "POST"
  # 导出超时（秒）
  timeout: 60
  # 导出失败重试次数
  retries: 3
  # 导出标识（按接口要求）
  flag: "单表"

  headers:
    accept: "application/json, text/plain, */*"
    content-type: "application/json;charset=UTF-8"
    origin: "https://bgwlgl.bbwport.com"
    referer: "https://bgwlgl.bbwport.com/"
    user-agent: "Mozilla/5.0"
    auth_token: "${AUTH_TOKEN}"
    cookie: "${COOKIE}"

run:
  # 运行参数：筛选哪一天的车次（YYYY-MM-DD）
  target_day: "2026-01-12"
  # 输出目录
  output_dir: "data"
  # 输出文件名模板，{day} 会替换为 target_day
  output_filename_template: "export_loaded_box_{day}.xlsx"
  # 是否保存原始 rows 便于核对
  save_sample_rows: true
  # 保存原始 rows 的路径
  sample_rows_path: "sample_rows.json"
